---
import MarkdownPostLayout from './MarkdownPostLayout.astro';
const { frontmatter } = Astro.props;
---

<MarkdownPostLayout {frontmatter}>

<div id="transcript-output"></div>

<h2>éŸ³å£°é…ä¿¡</h2>

<p>{frontmatter.description}</p>
<div id="player" class="youtube-ratio" data-id={frontmatter.media.youtubeId}></div>

<h2>ç›®æ¬¡</h2>

<div id="chapter-list">
    <ul>
    {frontmatter.chapters.map((chapter) =>
    {
        const matched = chapter.time.match(/(\d+):(\d+)/);
        const minutes = parseInt(matched[1], 10);
        const seconds = parseInt(matched[2], 10) + (minutes * 60);
        return (
            <li
            data-seconds={seconds}
            >{chapter.time} {chapter.title}</li>
        );
    })}
    </ul>
</div>

<details class="transcript-accordion">
    <summary>ğŸ“ æ–‡å­—èµ·ã“ã—ã‚’è¡¨ç¤º</summary>
</details>

<div id="transcript-source">
    {frontmatter.transcriptText.map((item) => (
        <div class="transcript-segment" data-timestamp={item.time}>
            {item.text}
        </div>
    ))}
</div>
<slot />
</MarkdownPostLayout>